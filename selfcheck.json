{"ok":true,"required_count":11,"found":["/contracts/compare_v2","/explain/_selfcheck","/explain/summarize","/ops/alerts/evaluate","/ops/alerts/set_rules","/ops/decision/list","/ops/decision/log","/ops/scenario/plan","/ops/watchlist/set","/reports/il_replacements_v2","/reports/il_replacements_v3"],"missing":[],"smoke_sh":"#!/usr/bin/env bash\nset -euo pipefail\n\necho \"== Week7 SMOKE START ==\"\n\n# contracts/compare_v2\ncurl -s -X POST http://127.0.0.1:8000/contracts/compare_v2 \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"team\":\"SEA\",\"budget_cap\":25000000,\n    \"priority_weights\":{\"war\":1.0,\"age\":0.4,\"platoon\":0.3,\"defense\":0.5},\n    \"items\":[\n      {\"player_id\":\"X\",\"contract\":[{\"year\":2025,\"salary\":12000000,\"proj_war\":2.8,\"age\":27,\"def\":5}]},\n      {\"player_id\":\"Y\",\"contract\":[{\"year\":2025,\"salary\":10000000,\"proj_war\":2.1,\"age\":31,\"def\":1}]}\n    ]\n  }' | python -m json.tool\n\n# IL replacements v2 (injured override 없을 때는 빈 배열일 수 있음)\ncurl -s -X POST http://127.0.0.1:8000/reports/il_replacements_v2 \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"team\":\"SEA\"}' | python -m json.tool || true\n\n# IL replacements v3 (v3는 내부 IL 상태 기반 추천)\ncurl -s -X POST http://127.0.0.1:8000/reports/il_replacements_v3 \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"team\":\"SEA\"}' | python -m json.tool\n\n# watchlist / alerts\ncurl -s -X POST http://127.0.0.1:8000/ops/watchlist/set \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"team\":\"SEA\",\"player_ids\":[\"p1\",\"p2\",\"p3\"]}' | python -m json.tool\n\ncurl -s -X POST http://127.0.0.1:8000/ops/alerts/set_rules \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"team\":\"SEA\",\"rules\":[\n        {\"metric\":\"OPS_plus\",\"op\":\"gt\",\"threshold\":130},\n        {\"metric\":\"ERA_plus\",\"op\":\"lt\",\"threshold\":90},\n        {\"metric\":\"injury_flag\",\"op\":\"eq\",\"threshold\":1}\n      ]}' | python -m json.tool\n\ncurl -s -X POST http://127.0.0.1:8000/ops/alerts/evaluate \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\"team\":\"SEA\",\"season\":2025}' | python -m json.tool\n\n# scenario planner\ncurl -s -X POST http://127.0.0.1:8000/ops/scenario/plan \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"team\":\"SEA\",\n    \"horizon_start\":2025, \"horizon_years\":3,\n    \"base_wins\": {\"2025\":86, \"2026\":84, \"2027\":83},\n    \"base_payroll\": {\"2025\":180000000, \"2026\":185000000, \"2027\":190000000},\n    \"budget_cap\": 195000000,\n    \"changes\": [\n      {\"tag\":\"Sign:1B-LHH\",\"years\":[\n        {\"year\":2025,\"delta_war\":2.4,\"delta_salary\":12000000},\n        {\"year\":2026,\"delta_war\":2.1,\"delta_salary\":13000000}\n      ]},\n      {\"tag\":\"Trade:CF glove\",\"years\":[\n        {\"year\":2025,\"delta_war\":1.2,\"delta_salary\":2000000},\n        {\"year\":2026,\"delta_war\":-1.5,\"delta_salary\":0}\n      ]}\n    ]\n  }' | python -m json.tool\n\n# decision log & list\ncurl -s -X POST http://127.0.0.1:8000/ops/decision/log \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"id\":\"D27-001\",\n    \"actor\":\"FO\",\n    \"action\":\"TradeProposal\",\n    \"summary\":\"Acquire CF glove; WAR +1.2 expected; risk hamstring; alt internal CF.\",\n    \"context\":{\"team\":\"SEA\",\"target\":\"CF-DEF\"},\n    \"evidence\":[{\"k\":\"WAR_gain\",\"v\":\"1.2\"},{\"k\":\"OPS+\",\"v\":\"105\"}]\n  }' | python -m json.tool\n\ncurl -s \"http://127.0.0.1:8000/ops/decision/list?limit=5\" | python -m json.tool\n\n# explainable AI\ncurl -s -X POST http://127.0.0.1:8000/explain/summarize \\\n  -H \"Content-Type: application/json\" \\\n  -d '{\n    \"title\":\"CF 수비 보강 트레이드\",\n    \"claims\":[\"수비 개선으로 실점 감소, Pythag 승률 +1.5p 기대\"],\n    \"evidence\":[\n      {\"k\":\"DRS\",\"v\":12,   \"weight\":1.3},\n      {\"k\":\"UZR/150\",\"v\":8.5,\"weight\":1.2},\n      {\"k\":\"SprintSpeed\",\"v\":29.1,\"weight\":0.9}\n    ],\n    \"assumptions\":[\"햄스트링 이슈 무재발\"],\n    \"limitations\":[\"샘플 400PA로 소표본\"],\n    \"next_actions\":[\"의무팀 메디컬 세컨드 오피니언\",\"2주후 필드스카우트 업데이트\"]\n  }' | python -m json.tool\n\ncurl -s \"http://127.0.0.1:8000/explain/_selfcheck\" | python -m json.tool\n\necho \"== Week7 SMOKE END ==\"\n","hint":"ok=true && missing=[] 이어야 Week7 배선 완료. smoke_sh를 저장/실행해 실제 응답까지 확인."}